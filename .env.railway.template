# Railway Environment Variables Template
# Copy this file and set the appropriate values for your Railway deployment

# =============================================================================
# REQUIRED ENVIRONMENT VARIABLES
# =============================================================================

# NextAuth Configuration
NEXTAUTH_URL=https://report-opd.up.railway.app
NEXTAUTH_SECRET=${{NextAuth.NEXTAUTH_SECRET}}
JWT_SECRET=${{NextAuth.JWT_SECRET}}

# Database Configuration (Railway PostgreSQL)
# Railway will automatically provide DATABASE_URL when you add PostgreSQL service
DATABASE_URL=${{Postgres.DATABASE_URL}}

# Redis Configuration (Railway Redis/Dragonfly)
# Railway will automatically provide REDIS_URL when you add Redis service
DRAGONFLY_URL=${{Redis.REDIS_URL}}
DRAGONFLY_QUEUE_NAME=notifications
DRAGONFLY_QUEUE_URL=${{Redis.REDIS_URL}}/0

# VAPID Keys for Push Notifications (Generate new keys for production)
# Generate with: npx web-push generate-vapid-keys
NEXT_PUBLIC_VAPID_PUBLIC_KEY=${{NextAuth.VAPID_PUBLIC_KEY}}
VAPID_PRIVATE_KEY=${{NextAuth.VAPID_PRIVATE_KEY}}
VAPID_CONTACT_EMAIL=${{NextAuth.VAPID_CONTACT_EMAIL}}

# System Configuration
SETUP_SECRET_KEY=${{NextAuth.SETUP_SECRET_KEY}}

# Server Actions Encryption Key (AES-GCM, 32 bytes base64 encoded)
# Generate with: node -e "const crypto = require('crypto'); console.log(crypto.randomBytes(32).toString('base64'));"
NEXT_SERVER_ACTIONS_ENCRYPTION_KEY=${{NextAuth.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY}}

# =============================================================================
# OPTIONAL ENVIRONMENT VARIABLES
# =============================================================================

# Node Environment
NODE_ENV=production

# Security and Rate Limiting
MAX_LOGIN_ATTEMPTS=5
LOGIN_LOCKOUT_MINUTES=30

# Application Settings
DEFAULT_LOCALE=en
DEFAULT_TIMEZONE=Asia/Phnom_Penh
SESSION_EXPIRY_DAYS=30

# File Storage (Railway persistent volumes)
UPLOAD_DIR=/app/uploads
PUBLIC_URL=https://report-opd.up.railway.app

# Telegram Notifications (Optional)
# TELEGRAM_BOT_TOKEN=your-telegram-bot-token
# TELEGRAM_CHAT_ID=your-telegram-chat-id
# TELEGRAM_BOT_USERNAME=your-telegram-bot-username

# Application Version
NEXT_PUBLIC_APP_VERSION=1.0.0

# Railway Specific
RAILWAY_ENVIRONMENT=${{RAILWAY_ENVIRONMENT}}
RAILWAY_SERVICE_NAME=${{RAILWAY_SERVICE_NAME}}

# =============================================================================
# AUTOMATIC RAILWAY VARIABLES (DO NOT SET MANUALLY)
# =============================================================================
# These are automatically provided by Railway:
# - PORT (automatically set by Railway)
# - RAILWAY_STATIC_URL
# - RAILWAY_PUBLIC_DOMAIN
# - RAILWAY_PRIVATE_DOMAIN
# - DATABASE_URL (when PostgreSQL service is connected)
# - REDIS_URL (when Redis service is connected)